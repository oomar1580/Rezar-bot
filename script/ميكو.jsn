const axios = require("axios");

module.exports.config = {
  name: "Ù…ÙŠÙƒÙˆ",
  version: "1.0",
  hasPermission: 0,
  credits: "Rako San ",
  description: "Ø±Ø¯ Ø°ÙƒÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù…ÙˆØ°Ø¬ miko Ù…Ù† xAI",
  commandCategory: "Ø²ÙƒÙ€Ù€Ù€Ù€Ù€Ù€Ù€Ø§Ø¡",
  usages: "[Ø³Ø¤Ø§Ù„Ùƒ Ø£Ùˆ Ø·Ù„Ø¨Ùƒ]",
  cooldowns: 5
};

module.exports.run = async function({ api, event, args}) {
  const { threadID, messageID, senderID} = event;
  const query = args.join(" ").trim();

  if (!query) {
    return api.sendMessage(" Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ø£Ùˆ Ø·Ù„Ø¨Ùƒ Ù…Ù† ÙØ¶Ù„Ùƒ â˜ºï¸ğŸŒ¸", threadID, messageID);
}

  const url = `https://rapido.zetsu.xyz/api/grok?query=${encodeURIComponent(query)}&uid=${senderID}`;

  try {
    const res = await axios.get(url);
    const reply = res.data?.response || "Ù„Ù… Ø§ÙÙ‡Ù… Ø³Ø¤Ø§Ù„Ùƒ Ø¹Ø²ÙŠØ²ÙŠ Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙˆØ¶ÙŠØ­ Ø§ÙƒØ«Ø± Ù„Ù†Ù…Ø±Ø­ â˜ºï¸ğŸŒ¸";

    return api.sendMessage(reply, threadID, messageID);
} catch (err) {
    console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ miko:", err.message);
    return api.sendMessage("âš ï¸ Ø­ØµÙ„Øª Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø±Ø¯ØŒ Ø¬Ø±Ø¨ Ù„Ø§Ø­Ù‚Ù‹Ø§.", threadID, messageID);
}
};
